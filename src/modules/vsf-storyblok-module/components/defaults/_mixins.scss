@mixin display-property-handling {
    &.-editor-preview-mode {
        position: relative;
    }

    @media (min-width: $tablet-min) {
        &.-mobile-only {
            display: none !important;
        }

        &.-editor-mobile-only {
            &::after {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
                pointer-events: none;
                
                background: rgba(205, 205, 205, .7);
                content: "Hidden on desktop";
                font-weight: bold;
            }
        }
    }
    
    @media (max-width: $mobile-max) {
        &.-mobile-hidden {
            display: none !important;
        }

        &.-editor-mobile-hidden {
            &::after {
                position: absolute;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
                pointer-events: none;
                
                background: rgba(205, 205, 205, .7);
                content: "Hidden on mobile";
                font-weight: bold;
            }
        }
    }
}

@mixin storyblok-reset-margins-for-transparent-containers() {
    .layout-transparent-container {
        &:first-child {
            --sb-layout-first-item-margin: 0;
        }

        &:last-child {
            --sb-layout-last-item-margin: 0;
        }
    }
}

$storyblok-layout-standard-top-margin: 1em;
$storyblok-layout-header-top-margin: 2em;
$storyblok-layout-header-bottom-margin: 1em;

@mixin storyblok-sub-elements-layout() {
    .layout-regular-component {
        margin-top: $storyblok-layout-standard-top-margin;

        &:first-child {
            margin-top: 0;
        }
    }

    .storyblok-heading {
        margin-top: $storyblok-layout-header-top-margin;
        margin-bottom: $storyblok-layout-header-bottom-margin;
    }

    @include storyblok-reset-margins-for-transparent-containers();

    .layout-regular-component, 
    .storyblok-heading {
        &:first-child {
            margin-top: 0;
        }

        &:last-child {
            margin-bottom: 0;
        }
    }
}

@mixin storyblok-transparent-container-layout() {
    .layout-regular-component {
        margin-top: $storyblok-layout-standard-top-margin;

        &:first-child {
            margin-top: var(--sb-layout-first-item-margin, $storyblok-layout-standard-top-margin);
        }
    }

    .storyblok-heading {
        margin-top: $storyblok-layout-header-top-margin;
        margin-bottom: $storyblok-layout-header-bottom-margin;

        &:first-child {
            margin-top: var(--sb-layout-first-item-margin, $storyblok-layout-header-top-margin);
        }

        &:last-child {
            margin-top: var(--sb-layout-last-item-margin, $storyblok-layout-header-bottom-margin);
        }
    }

    .layout-regular-component,
    .storyblok-heading,
    .layout-transparent-container,
    ._item {
        &:not(:first-child) {
            --sb-layout-first-item-margin: initial;
        }
        
        &:not(:last-child) {
            --sb-layout-last-item-margin: initial;
        }
    }
}